{
  "_format": "hh-sol-artifact-1",
  "contractName": "EventAnchor",
  "sourceName": "contracts/EventAnchor.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_siteRegistry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "anchorId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "siteId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "eventCount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "anchoredBy",
          "type": "address"
        }
      ],
      "name": "BatchAnchored",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "siteId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "metadataHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "metadataUri",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "eventCount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "firstEventTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastEventTimestamp",
          "type": "uint256"
        }
      ],
      "name": "anchorBatch",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "anchorId",
          "type": "bytes32"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "anchorIds",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "anchors",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "siteId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "metadataHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "metadataUri",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "eventCount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "firstEventTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastEventTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "anchoredAt",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "anchoredBy",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "anchorId",
          "type": "bytes32"
        }
      ],
      "name": "getAnchor",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "siteId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "merkleRoot",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "metadataHash",
          "type": "bytes32"
        },
        {
          "internalType": "string",
          "name": "metadataUri",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "eventCount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "firstEventTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "lastEventTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "anchoredAt",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "anchoredBy",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAnchorCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "siteId",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "getSiteAnchorAt",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "siteId",
          "type": "bytes32"
        }
      ],
      "name": "getSiteAnchorCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "siteAnchors",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "siteRegistry",
      "outputs": [
        {
          "internalType": "contract SiteRegistry",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "anchorId",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "eventHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32[]",
          "name": "proof",
          "type": "bytes32[]"
        },
        {
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "verifyEvent",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60a060405234801561001057600080fd5b5060405161102e38038061102e83398101604081905261002f91610040565b6001600160a01b0316608052610070565b60006020828403121561005257600080fd5b81516001600160a01b038116811461006957600080fd5b9392505050565b608051610f966100986000396000818160ce0152818161064501526106da0152610f966000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c8063cdf2881111610066578063cdf2881114610156578063d3182bed14610169578063e728a52414610171578063f0d87f6714610191578063fb722252146101b457600080fd5b80631074f191146100a3578063753ad5de146100c95780637feb51d9146101085780639194373c14610130578063b01b6d5314610143575b600080fd5b6100b66100b1366004610b4e565b6101c7565b6040519081526020015b60405180910390f35b6100f07f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c0565b61011b610116366004610b4e565b6101e8565b6040516100c099989796959493929190610b67565b6100b661013e366004610c07565b61036d565b61011b610151366004610b4e565b61039e565b6100b6610164366004610c07565b610479565b6002546100b6565b6100b661017f366004610b4e565b60009081526001602052604090205490565b6101a461019f366004610c29565b6104ac565b60405190151581526020016100c0565b6100b66101c2366004610cb4565b610626565b600281815481106101d757600080fd5b600091825260209091200154905081565b600080600060606000806000806000806000808c81526020019081526020016000206040518061012001604052908160008201548152602001600182015481526020016002820154815260200160038201805461024490610d5d565b80601f016020809104026020016040519081016040528092919081815260200182805461027090610d5d565b80156102bd5780601f10610292576101008083540402835291602001916102bd565b820191906000526020600020905b8154815290600101906020018083116102a057829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a90046001600160a01b03166001600160a01b03166001600160a01b0316815250509050806000015181602001518260400151836060015184608001518560a001518660c001518760e00151886101000151995099509950995099509950995099509950509193959799909294969850565b6001602052816000526040600020818154811061038957600080fd5b90600052602060002001600091509150505481565b6000602081905290815260409020805460018201546002830154600384018054939492939192916103ce90610d5d565b80601f01602080910402602001604051908101604052809291908181526020018280546103fa90610d5d565b80156104475780601f1061041c57610100808354040283529160200191610447565b820191906000526020600020905b81548152906001019060200180831161042a57829003601f168201915b50505060048401546005850154600686015460078701546008909701549596929591945092506001600160a01b031689565b600082815260016020526040812080548390811061049957610499610d97565b9060005260206000200154905092915050565b600080600080888152602001908152602001600020604051806101200160405290816000820154815260200160018201548152602001600282015481526020016003820180546104fb90610d5d565b80601f016020809104026020016040519081016040528092919081815260200182805461052790610d5d565b80156105745780601f1061054957610100808354040283529160200191610574565b820191906000526020600020905b81548152906001019060200180831161055757829003601f168201915b5050509183525050600482015460208201526005820154604082015260068201546060820152600782015460808201526008909101546001600160a01b031660a09091015260e081015190915061060a5760405162461bcd60e51b8152602060048201526015602482015274105b98da1bdc88191bd95cc81b9bdd08195e1a5cdd605a1b60448201526064015b60405180910390fd5b61061b868686846020015187610a84565b979650505050505050565b60405163a31aab1360e01b8152600481018990523360248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a31aab1390604401602060405180830381865afa158015610694573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106b89190610dad565b8061074d575060405163a399a6c560e01b8152600481018a90523360248201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a399a6c590604401602060405180830381865afa158015610729573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061074d9190610dad565b6107a85760405162461bcd60e51b815260206004820152602660248201527f4e6f7420617574686f72697a656420746f20616e63686f7220666f722074686960448201526573207369746560d01b6064820152608401610601565b876107eb5760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a590813595c9adb19481c9bdbdd606a1b6044820152606401610601565b6000841161083b5760405162461bcd60e51b815260206004820152601c60248201527f4576656e7420636f756e74206d75737420626520706f736974697665000000006044820152606401610601565b60408051602081018b90529081018990524260608083019190915233901b6bffffffffffffffffffffffff1916608082015260940160408051601f198184030181529181528151602092830120600081815292839052912060070154909150156108df5760405162461bcd60e51b8152602060048201526015602482015274416e63686f7220616c72656164792065786973747360581b6044820152606401610601565b6040518061012001604052808a815260200189815260200188815260200187878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050506020808301889052604080840188905260608085018890524260808601523360a09095019490945285835282825291829020845181559084015160018201559083015160028201559082015160038201906109909082610e3b565b506080820151600482015560a0820151600582015560c0820151600682015560e0820151600782015561010090910151600890910180546001600160a01b0319166001600160a01b039092169190911790556002805460018181019092557f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0182905560008a8152602082815260408083208054948501815583529181902090920183905580518a8152918201869052429082015233908a9083907f610ffbc14f3873e58ea591999bc1d52f0424bf3fd2c6a21c1ab96af1b6bc20129060600160405180910390a498975050505050505050565b600085815b85811015610b41576000878783818110610aa557610aa5610d97565b905060200201359050600285610abb9190610f11565b600003610af3576040805160208101859052908101829052606001604051602081830303815290604052805190602001209250610b20565b60408051602081018390529081018490526060016040516020818303038152906040528051906020012092505b610b2b600286610f25565b9450508080610b3990610f39565b915050610a89565b5090921495945050505050565b600060208284031215610b6057600080fd5b5035919050565b60006101208b835260208b818501528a604085015281606085015289518083860152600092505b80831015610bad578a8301820151858401610140015291810191610b8e565b6101409250600083828701015282601f19601f83011686010193505050508660808301528560a08301528460c08301528360e0830152610bf96101008301846001600160a01b03169052565b9a9950505050505050505050565b60008060408385031215610c1a57600080fd5b50508035926020909101359150565b600080600080600060808688031215610c4157600080fd5b8535945060208601359350604086013567ffffffffffffffff80821115610c6757600080fd5b818801915088601f830112610c7b57600080fd5b813581811115610c8a57600080fd5b8960208260051b8501011115610c9f57600080fd5b96999598505060200195606001359392505050565b60008060008060008060008060e0898b031215610cd057600080fd5b883597506020890135965060408901359550606089013567ffffffffffffffff80821115610cfd57600080fd5b818b0191508b601f830112610d1157600080fd5b813581811115610d2057600080fd5b8c6020828501011115610d3257600080fd5b999c989b50969960209190910198976080820135975060a0820135965060c090910135945092505050565b600181811c90821680610d7157607f821691505b602082108103610d9157634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b600060208284031215610dbf57600080fd5b81518015158114610dcf57600080fd5b9392505050565b634e487b7160e01b600052604160045260246000fd5b601f821115610e3657600081815260208120601f850160051c81016020861015610e135750805b601f850160051c820191505b81811015610e3257828155600101610e1f565b5050505b505050565b815167ffffffffffffffff811115610e5557610e55610dd6565b610e6981610e638454610d5d565b84610dec565b602080601f831160018114610e9e5760008415610e865750858301515b600019600386901b1c1916600185901b178555610e32565b600085815260208120601f198616915b82811015610ecd57888601518255948401946001909101908401610eae565b5085821015610eeb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052601260045260246000fd5b600082610f2057610f20610efb565b500690565b600082610f3457610f34610efb565b500490565b600060018201610f5957634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220990d4c0d674a1aff5a0ccb5dec6cc71c7ba5bccdf224c2d8a05500b80b032a1364736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c8063cdf2881111610066578063cdf2881114610156578063d3182bed14610169578063e728a52414610171578063f0d87f6714610191578063fb722252146101b457600080fd5b80631074f191146100a3578063753ad5de146100c95780637feb51d9146101085780639194373c14610130578063b01b6d5314610143575b600080fd5b6100b66100b1366004610b4e565b6101c7565b6040519081526020015b60405180910390f35b6100f07f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100c0565b61011b610116366004610b4e565b6101e8565b6040516100c099989796959493929190610b67565b6100b661013e366004610c07565b61036d565b61011b610151366004610b4e565b61039e565b6100b6610164366004610c07565b610479565b6002546100b6565b6100b661017f366004610b4e565b60009081526001602052604090205490565b6101a461019f366004610c29565b6104ac565b60405190151581526020016100c0565b6100b66101c2366004610cb4565b610626565b600281815481106101d757600080fd5b600091825260209091200154905081565b600080600060606000806000806000806000808c81526020019081526020016000206040518061012001604052908160008201548152602001600182015481526020016002820154815260200160038201805461024490610d5d565b80601f016020809104026020016040519081016040528092919081815260200182805461027090610d5d565b80156102bd5780601f10610292576101008083540402835291602001916102bd565b820191906000526020600020905b8154815290600101906020018083116102a057829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a90046001600160a01b03166001600160a01b03166001600160a01b0316815250509050806000015181602001518260400151836060015184608001518560a001518660c001518760e00151886101000151995099509950995099509950995099509950509193959799909294969850565b6001602052816000526040600020818154811061038957600080fd5b90600052602060002001600091509150505481565b6000602081905290815260409020805460018201546002830154600384018054939492939192916103ce90610d5d565b80601f01602080910402602001604051908101604052809291908181526020018280546103fa90610d5d565b80156104475780601f1061041c57610100808354040283529160200191610447565b820191906000526020600020905b81548152906001019060200180831161042a57829003601f168201915b50505060048401546005850154600686015460078701546008909701549596929591945092506001600160a01b031689565b600082815260016020526040812080548390811061049957610499610d97565b9060005260206000200154905092915050565b600080600080888152602001908152602001600020604051806101200160405290816000820154815260200160018201548152602001600282015481526020016003820180546104fb90610d5d565b80601f016020809104026020016040519081016040528092919081815260200182805461052790610d5d565b80156105745780601f1061054957610100808354040283529160200191610574565b820191906000526020600020905b81548152906001019060200180831161055757829003601f168201915b5050509183525050600482015460208201526005820154604082015260068201546060820152600782015460808201526008909101546001600160a01b031660a09091015260e081015190915061060a5760405162461bcd60e51b8152602060048201526015602482015274105b98da1bdc88191bd95cc81b9bdd08195e1a5cdd605a1b60448201526064015b60405180910390fd5b61061b868686846020015187610a84565b979650505050505050565b60405163a31aab1360e01b8152600481018990523360248201526000907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a31aab1390604401602060405180830381865afa158015610694573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106b89190610dad565b8061074d575060405163a399a6c560e01b8152600481018a90523360248201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a399a6c590604401602060405180830381865afa158015610729573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061074d9190610dad565b6107a85760405162461bcd60e51b815260206004820152602660248201527f4e6f7420617574686f72697a656420746f20616e63686f7220666f722074686960448201526573207369746560d01b6064820152608401610601565b876107eb5760405162461bcd60e51b8152602060048201526013602482015272125b9d985b1a590813595c9adb19481c9bdbdd606a1b6044820152606401610601565b6000841161083b5760405162461bcd60e51b815260206004820152601c60248201527f4576656e7420636f756e74206d75737420626520706f736974697665000000006044820152606401610601565b60408051602081018b90529081018990524260608083019190915233901b6bffffffffffffffffffffffff1916608082015260940160408051601f198184030181529181528151602092830120600081815292839052912060070154909150156108df5760405162461bcd60e51b8152602060048201526015602482015274416e63686f7220616c72656164792065786973747360581b6044820152606401610601565b6040518061012001604052808a815260200189815260200188815260200187878080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201829052509385525050506020808301889052604080840188905260608085018890524260808601523360a09095019490945285835282825291829020845181559084015160018201559083015160028201559082015160038201906109909082610e3b565b506080820151600482015560a0820151600582015560c0820151600682015560e0820151600782015561010090910151600890910180546001600160a01b0319166001600160a01b039092169190911790556002805460018181019092557f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace0182905560008a8152602082815260408083208054948501815583529181902090920183905580518a8152918201869052429082015233908a9083907f610ffbc14f3873e58ea591999bc1d52f0424bf3fd2c6a21c1ab96af1b6bc20129060600160405180910390a498975050505050505050565b600085815b85811015610b41576000878783818110610aa557610aa5610d97565b905060200201359050600285610abb9190610f11565b600003610af3576040805160208101859052908101829052606001604051602081830303815290604052805190602001209250610b20565b60408051602081018390529081018490526060016040516020818303038152906040528051906020012092505b610b2b600286610f25565b9450508080610b3990610f39565b915050610a89565b5090921495945050505050565b600060208284031215610b6057600080fd5b5035919050565b60006101208b835260208b818501528a604085015281606085015289518083860152600092505b80831015610bad578a8301820151858401610140015291810191610b8e565b6101409250600083828701015282601f19601f83011686010193505050508660808301528560a08301528460c08301528360e0830152610bf96101008301846001600160a01b03169052565b9a9950505050505050505050565b60008060408385031215610c1a57600080fd5b50508035926020909101359150565b600080600080600060808688031215610c4157600080fd5b8535945060208601359350604086013567ffffffffffffffff80821115610c6757600080fd5b818801915088601f830112610c7b57600080fd5b813581811115610c8a57600080fd5b8960208260051b8501011115610c9f57600080fd5b96999598505060200195606001359392505050565b60008060008060008060008060e0898b031215610cd057600080fd5b883597506020890135965060408901359550606089013567ffffffffffffffff80821115610cfd57600080fd5b818b0191508b601f830112610d1157600080fd5b813581811115610d2057600080fd5b8c6020828501011115610d3257600080fd5b999c989b50969960209190910198976080820135975060a0820135965060c090910135945092505050565b600181811c90821680610d7157607f821691505b602082108103610d9157634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052603260045260246000fd5b600060208284031215610dbf57600080fd5b81518015158114610dcf57600080fd5b9392505050565b634e487b7160e01b600052604160045260246000fd5b601f821115610e3657600081815260208120601f850160051c81016020861015610e135750805b601f850160051c820191505b81811015610e3257828155600101610e1f565b5050505b505050565b815167ffffffffffffffff811115610e5557610e55610dd6565b610e6981610e638454610d5d565b84610dec565b602080601f831160018114610e9e5760008415610e865750858301515b600019600386901b1c1916600185901b178555610e32565b600085815260208120601f198616915b82811015610ecd57888601518255948401946001909101908401610eae565b5085821015610eeb5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052601260045260246000fd5b600082610f2057610f20610efb565b500690565b600082610f3457610f34610efb565b500490565b600060018201610f5957634e487b7160e01b600052601160045260246000fd5b506001019056fea2646970667358221220990d4c0d674a1aff5a0ccb5dec6cc71c7ba5bccdf224c2d8a05500b80b032a1364736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
